# Symfony - Anotações gerais

- No Symfony, todo método deve retornar um response, sendo esse response um objeto

- As rotas são definidas usando attributes(#[Route('endpont')]), ou seja, basta utilizar o namespace use Symfony\Component\Routing\Attribute\Route;

- Symfony Flex é um plugin ou pacote do composer que atribui dois super poderes ao composer, aliases e recipes(receitas). Aliases pode ser entidido da seguinte forma, imagine que você deseja baixar o pacote symfony/http-client, ao invés de digitar tudo isso basta digitar composer require http-client, ou seja, o flex irá traduzir para o nome do pacote original. Para saber todas as receitas basta visitar o [symfony/recipes](https://github.com/symfony/recipes/blob/flex/main/RECIPES.md). Já recipes(receitas) funciona da seguinte forma, imagine que você adicionou um novo pacote, pode ser que esse pacote tenha uma recipe(receita), o que basicamente é um conjunto de arquivos que serão adicionados no nosso projeto, dessa forma, todos os arquivos que são inicializados nos diretórios bin, config e public são oriundos de recipes e pacotes que instalamos. No arquivo composer.json temos o pacote symfony/framework-bundle que é um core package do framework symfony. Se acessarmos o link [symfony/framework-bundle](https://github.com/symfony/recipes/tree/main/symfony/framework-bundle) veremos várias versões desse pacote, ao abrir o diretório de alguma dessas versões veremos alguns arquivos e diretórios como config, public e src, além dos arquivos manifest.json e post-install.txt. Ou seja, tudo isso vem dessa recipe.

- Para visualizar nossas recipes, basta utilizar o comando composer recipes que irá listar todas as recipes disponíveis. Para verificar os detalhes de uma recipe específica, basta digitar composer recipes nome_da_recipe, por exemplo, composer recipes symfony/framework-bundle, o resultado será os diretórios e arquivos que essa recipe gera.

- Para verificarmos se a padronização do nosso código está de acordo com os padrões estabelecidos para o desenvolvimento usando php, iremos instalar um package chamado cs-fixer-shim usando o comando composer require cs-fixer-shim. Ao rodar o comando, sera baixado um arquivo chamado .php-cs-fixer.dist.php que é o arquivo de configuração utilizado para ajustar o nosso código. Para executar o cs-fixer-shim basta digitar o comando ./vendor/bin/php-cs-fixer fix que irá ajustar a padronização do nosso código.

- Twig é um template engine semelhante ao blade do laravel que é utilizado para renderizar as views. Para instalar o twig basta digitar composer require twig. Note que twig é um alias para para symfony/twig-pack. Packages com terminação pack são pacotes que contém vários outros pacotes(dependências). Ao instalar o twig, temos que o arquivo bundles.php será modificado, ou seja, um novo bundle(plugin) séra instalado. Além disso, é adicionado um diretório chamado templates que é onde nossos templates/views serão criados. Algo importante, uma padronização é que o nome da controller seja compatível com o nome do diretório da view, por exemplo, se a controller se chama HomeController, o diretório da view deve ser home. Para renderizar a view, basta utilizar o método render do objeto $this->render('home/index.html.twig'). Para passar dados para a view, basta passar um array associativo como segundo parâmetro do método render, por exemplo, $this->render('main/homepage.html.twig', ['numberOfStarships' => $starshipCount]). Para acessar o valor passado para a view, basta utilizar a variável numberOfStarships, ou seja, {{ numberOfStarships }}.